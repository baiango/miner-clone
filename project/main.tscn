[gd_scene load_steps=14 format=3 uid="uid://ca06enatbvcei"]

[ext_resource type="PackedScene" uid="uid://c7qc68x2vpdj5" path="res://model/kira/kira.tscn" id="1_t35oq"]
[ext_resource type="ArrayMesh" uid="uid://dqy0cfh26sual" path="res://model/tree/tree_Cube001.res" id="2_dbwnn"]
[ext_resource type="Texture2D" uid="uid://b1scyuit6ifij" path="res://image/hdri.png" id="3_0nace"]
[ext_resource type="MeshLibrary" uid="uid://d0dcx1gek5rgs" path="res://model/blocks/res/blocks.meshlib" id="4_42coi"]
[ext_resource type="Script" path="res://gd/map_gen.gd" id="5_kmscg"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_q1e1v"]
data = PackedVector3Array(-0.4, 0, 0.4, -0.4, 4, -0.4, -0.4, 4, 0.4, -0.4, 0, 0.4, -0.4, 0, -0.4, -0.4, 4, -0.4, -0.4, 0, -0.4, 0.4, 4, -0.4, -0.4, 4, -0.4, -0.4, 0, -0.4, 0.4, 0, -0.4, 0.4, 4, -0.4, 0.4, 0, -0.4, 0.4, 4, 0.4, 0.4, 4, -0.4, 0.4, 0, -0.4, 0.4, 0, 0.4, 0.4, 4, 0.4, 0.4, 0, 0.4, -0.4, 4, 0.4, 0.4, 4, 0.4, 0.4, 0, 0.4, -0.4, 0, 0.4, -0.4, 4, 0.4, -0.4, 0, -0.4, 0.4, 0, 0.4, 0.4, 0, -0.4, -0.4, 0, -0.4, -0.4, 0, 0.4, 0.4, 0, 0.4, 0.4, 4, -0.4, -7.1443, 4, -7.1443, -0.4, 4, -0.4, 0.4, 4, -0.4, 7.1443, 4, -7.1443, -7.1443, 4, -7.1443, 7.1443, 4, 7.1443, 4.9329, 8.469, -4.9329, 7.1443, 4, -7.1443, 7.1443, 4, 7.1443, 4.9329, 8.469, 4.9329, 4.9329, 8.469, -4.9329, 0.4, 4, 0.4, 7.1443, 4, -7.1443, 0.4, 4, -0.4, 0.4, 4, 0.4, 7.1443, 4, 7.1443, 7.1443, 4, -7.1443, -0.4, 4, -0.4, -7.1443, 4, 7.1443, -0.4, 4, 0.4, -0.4, 4, -0.4, -7.1443, 4, -7.1443, -7.1443, 4, 7.1443, -0.4, 4, 0.4, 7.1443, 4, 7.1443, 0.4, 4, 0.4, -0.4, 4, 0.4, -7.1443, 4, 7.1443, 7.1443, 4, 7.1443, 4.9329, 8.469, 4.9329, 4.9329, 13.5281, -4.9329, 4.9329, 8.469, -4.9329, 4.9329, 8.469, 4.9329, 4.9329, 13.5281, 4.9329, 4.9329, 13.5281, -4.9329, -7.1443, 4, -7.1443, -4.9329, 8.469, 4.9329, -7.1443, 4, 7.1443, -7.1443, 4, -7.1443, -4.9329, 8.469, -4.9329, -4.9329, 8.469, 4.9329, -7.1443, 4, 7.1443, 4.9329, 8.469, 4.9329, 7.1443, 4, 7.1443, -7.1443, 4, 7.1443, -4.9329, 8.469, 4.9329, 4.9329, 8.469, 4.9329, 7.1443, 4, -7.1443, -4.9329, 8.469, -4.9329, -7.1443, 4, -7.1443, 7.1443, 4, -7.1443, 4.9329, 8.469, -4.9329, -4.9329, 8.469, -4.9329, -4.9329, 13.5281, 4.9329, 2.9229, 17.5301, 2.9229, 4.9329, 13.5281, 4.9329, -4.9329, 13.5281, 4.9329, -2.9229, 17.5301, 2.9229, 2.9229, 17.5301, 2.9229, -4.9329, 8.469, -4.9329, -4.9329, 13.5281, 4.9329, -4.9329, 8.469, 4.9329, -4.9329, 8.469, -4.9329, -4.9329, 13.5281, -4.9329, -4.9329, 13.5281, 4.9329, -4.9329, 8.469, 4.9329, 4.9329, 13.5281, 4.9329, 4.9329, 8.469, 4.9329, -4.9329, 8.469, 4.9329, -4.9329, 13.5281, 4.9329, 4.9329, 13.5281, 4.9329, 4.9329, 8.469, -4.9329, -4.9329, 13.5281, -4.9329, -4.9329, 8.469, -4.9329, 4.9329, 8.469, -4.9329, 4.9329, 13.5281, -4.9329, -4.9329, 13.5281, -4.9329, 2.9229, 17.5301, 2.9229, 2.0944, 19.9967, -2.0944, 2.9229, 17.5301, -2.9229, 2.9229, 17.5301, 2.9229, 2.0944, 19.9967, 2.0944, 2.0944, 19.9967, -2.0944, 4.9329, 13.5281, -4.9329, -2.9229, 17.5301, -2.9229, -4.9329, 13.5281, -4.9329, 4.9329, 13.5281, -4.9329, 2.9229, 17.5301, -2.9229, -2.9229, 17.5301, -2.9229, 4.9329, 13.5281, 4.9329, 2.9229, 17.5301, -2.9229, 4.9329, 13.5281, -4.9329, 4.9329, 13.5281, 4.9329, 2.9229, 17.5301, 2.9229, 2.9229, 17.5301, -2.9229, -4.9329, 13.5281, -4.9329, -2.9229, 17.5301, 2.9229, -4.9329, 13.5281, 4.9329, -4.9329, 13.5281, -4.9329, -2.9229, 17.5301, -2.9229, -2.9229, 17.5301, 2.9229, 2.0944, 19.9967, 2.0944, 0.8983, 22.0355, -0.8983, 2.0944, 19.9967, -2.0944, 2.0944, 19.9967, 2.0944, 0.8983, 22.0355, 0.8983, 0.8983, 22.0355, -0.8983, -2.9229, 17.5301, -2.9229, -2.0944, 19.9967, 2.0944, -2.9229, 17.5301, 2.9229, -2.9229, 17.5301, -2.9229, -2.0944, 19.9967, -2.0944, -2.0944, 19.9967, 2.0944, -2.9229, 17.5301, 2.9229, 2.0944, 19.9967, 2.0944, 2.9229, 17.5301, 2.9229, -2.9229, 17.5301, 2.9229, -2.0944, 19.9967, 2.0944, 2.0944, 19.9967, 2.0944, 2.9229, 17.5301, -2.9229, -2.0944, 19.9967, -2.0944, -2.9229, 17.5301, -2.9229, 2.9229, 17.5301, -2.9229, 2.0944, 19.9967, -2.0944, -2.0944, 19.9967, -2.0944, -0.8983, 22.0355, 0.8983, 0.0898, 24.3514, 0.0898, 0.8983, 22.0355, 0.8983, -0.8983, 22.0355, 0.8983, -0.0898, 24.3514, 0.0898, 0.0898, 24.3514, 0.0898, -2.0944, 19.9967, -2.0944, -0.8983, 22.0355, 0.8983, -2.0944, 19.9967, 2.0944, -2.0944, 19.9967, -2.0944, -0.8983, 22.0355, -0.8983, -0.8983, 22.0355, 0.8983, -2.0944, 19.9967, 2.0944, 0.8983, 22.0355, 0.8983, 2.0944, 19.9967, 2.0944, -2.0944, 19.9967, 2.0944, -0.8983, 22.0355, 0.8983, 0.8983, 22.0355, 0.8983, 2.0944, 19.9967, -2.0944, -0.8983, 22.0355, -0.8983, -2.0944, 19.9967, -2.0944, 2.0944, 19.9967, -2.0944, 0.8983, 22.0355, -0.8983, -0.8983, 22.0355, -0.8983, 0.0898, 24.3514, -0.0898, -0.0898, 24.3514, 0.0898, -0.0898, 24.3514, -0.0898, 0.0898, 24.3514, -0.0898, 0.0898, 24.3514, 0.0898, -0.0898, 24.3514, 0.0898, 0.8983, 22.0355, -0.8983, -0.0898, 24.3514, -0.0898, -0.8983, 22.0355, -0.8983, 0.8983, 22.0355, -0.8983, 0.0898, 24.3514, -0.0898, -0.0898, 24.3514, -0.0898, 0.8983, 22.0355, 0.8983, 0.0898, 24.3514, -0.0898, 0.8983, 22.0355, -0.8983, 0.8983, 22.0355, 0.8983, 0.0898, 24.3514, 0.0898, 0.0898, 24.3514, -0.0898, -0.8983, 22.0355, -0.8983, -0.0898, 24.3514, 0.0898, -0.8983, 22.0355, 0.8983, -0.8983, 22.0355, -0.8983, -0.0898, 24.3514, -0.0898, -0.0898, 24.3514, 0.0898)

[sub_resource type="Curve" id="Curve_l8bqq"]
_data = [Vector2(0, 0), 0.0, 0.807, 0, 0, Vector2(1, 0.7), 0.807, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_feade"]
_data = [Vector2(0, 0), 0.0, 0.9, 0, 1, Vector2(1, 0.9), 0.9, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_csdah"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="CurveXYZTexture" id="CurveXYZTexture_xvu4w"]
curve_x = SubResource("Curve_l8bqq")
curve_y = SubResource("Curve_feade")
curve_z = SubResource("Curve_csdah")

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_q47vm"]
use_debanding = false
night_sky = ExtResource("3_0nace")

[sub_resource type="Sky" id="Sky_vv57i"]
sky_material = SubResource("PhysicalSkyMaterial_q47vm")

[sub_resource type="Environment" id="Environment_vuehq"]
background_mode = 2
sky = SubResource("Sky_vv57i")
tonemap_mode = 1
adjustment_enabled = true
adjustment_contrast = 1.05
adjustment_saturation = 1.05
adjustment_color_correction = SubResource("CurveXYZTexture_xvu4w")

[node name="world" type="Node3D"]

[node name="kira" parent="." instance=ExtResource("1_t35oq")]

[node name="trees" type="Node" parent="."]

[node name="tree" type="MeshInstance3D" parent="trees"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 0.522151)
mesh = ExtResource("2_dbwnn")

[node name="StaticBody3D" type="StaticBody3D" parent="trees/tree"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="trees/tree/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_q1e1v")

[node name="tree2" type="MeshInstance3D" parent="trees"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17, 0, 3)
mesh = ExtResource("2_dbwnn")

[node name="StaticBody3D" type="StaticBody3D" parent="trees/tree2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="trees/tree2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_q1e1v")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vuehq")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, -0.504287, 0.863536, 0, -0.863536, -0.504287, 0, 2, 0)
shadow_enabled = true

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("4_42coi")
cell_size = Vector3(1, 1, 1)
script = ExtResource("5_kmscg")
metadata/_editor_floor_ = Vector3(0, -1, 0)

[connection signal="tree_exiting" from="GridMap" to="GridMap" method="_on_tree_exiting"]
